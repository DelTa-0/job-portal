"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const _1 = require(".");
const authentication_1 = require("../../middleware/authentication");
const authorization_middleware_1 = __importDefault(require("../../middleware/authorization/authorization.middleware"));
const auth_type_1 = require("../auth/auth.type");
const multer_config_1 = __importDefault(require("../../config/multer.config"));
const applicantsRouter = (0, express_1.Router)();
applicantsRouter.get("/", _1.applicantsController.getApplicants.bind(_1.applicantsController));
applicantsRouter.post("/create-applicant", multer_config_1.default.fields([{ name: "cv" }, { name: "profile" }]), _1.applicantMiddleware.applicantAlreadyExist, _1.applicantsController.createApplicant.bind(_1.applicantsController));
applicantsRouter.post("/apply/:vacancyId", authentication_1.authMiddleware.auth, (0, authorization_middleware_1.default)([auth_type_1.ERole.APPLICANT]), _1.applicantsController.applyVacancy.bind(_1.applicantsController));
applicantsRouter.get("/vacancies", authentication_1.authMiddleware.auth, (0, authorization_middleware_1.default)([auth_type_1.ERole.APPLICANT]), _1.applicantsController.getAppliedVacancies.bind(_1.applicantsController));
applicantsRouter.get("/get-profile", authentication_1.authMiddleware.auth, (0, authorization_middleware_1.default)([auth_type_1.ERole.APPLICANT]), _1.applicantsController.getProfile);
applicantsRouter.post("/forgot-password", _1.applicantsController.forgetPassword);
applicantsRouter.get("/get-cv", authentication_1.authMiddleware.auth, (0, authorization_middleware_1.default)([auth_type_1.ERole.APPLICANT]), _1.applicantsController.getCv);
exports.default = applicantsRouter;
